!function(){return function r(t,e,a){function o(i,s){if(!e[i]){if(!t[i]){var c="function"==typeof require&&require;if(!s&&c)return c(i,!0);if(n)return n(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var u=e[i]={exports:{}};t[i][0].call(u.exports,function(e){return o(t[i][1][e]||e)},u,u.exports,r,t,e,a)}return e[i].exports}for(var n="function"==typeof require&&require,i=0;i<a.length;i++)o(a[i]);return o}}()({1:[function(t,e,a){var n=t("url-parameters.js"),r={type:"coordinates",title:"Skaliranje",task:"Poskusi pomnožiti izvirne koordinate z 2. Kakšen je učinek transformacije?<br>Kaj bi se zgodilo, če bi vsako vrednost množil(-a) z 10? Kaj pa z 0,5? Kaj pa, če bi množil(-a) samo vrednosti $x$?",target:"-4 6 -4 2 0 2 -4 -8 0 -8 4 2 4 6"},o={type:"coordinates",title:"Skaliranje in translacija",task:"Spremeni vrednosti tako, da se bo neprosojna oblika ujemala s prosojno.<br><b>Namig:</b> uporabi izraze kot 2*(2+1) ali ulomke kot 1/5.",target:"3 10 3 6 7 6 3 -4 7 -4 11 6 11 10"},s={type:"coordinates",title:"Zamenjava koordinat",task:"Kaj se zgodi, če pri vsaki koordinati zamenjaš vrednosti $x$ in $y$?",target:"3 -2 1 -2 1 0 -4 -2 -4 0 1 2 3 2"},c={type:"coordinates",title:"Translacija",task:"Poskusi prišteti 2 vsem vrednostim $x$, in 3 vsem vrednostim $y$. Kakšen učinek ima to na izvirno obliko?<br>Kaj se zgodi, če odšteješ 3 od vseh vrednosti izvirnih koordinat?",target:"0 6 0 4 2 4 0 -1 2 -1 4 4 4 6"},l={type:"matrix",title:"Rotacija",task:"Rotiraj in premakni obliko v končni položaj. Za natančen izračun uporabi trigonometrične funkcije, rezutate pa zaokroži na dve decimalni mesti.",target:"-0.55 5.71 0.87 4.29 2.29 5.71 4.42 0.74 5.84 2.16 3.71 7.13 2.29 8.55",modules:["first-scale","first-translate"]},u={type:"matrix",title:"Sestavljanje translacije, skaliranja in rotacije",task:"Poskusi premakniti obliko v končni položaj tako, da uporabiš dve matriki za množenje (eno za skaliranje, drugo za rotacijo) in matriko za translacijo.",target:"11 8 9 8 9 4 4 8 4 4 9 0 11 0",modules:["first-scale","second-scale","first-translate"]},p={type:"matrix",title:"Izziv več transformacij",task:"Poskusi premakniti obliko v končni položaj tako, da uporabiš dve matriki za množenje (eno za skaliranje, drugo za rotacijo) in matriko za translacijo.",target:"-11.1 -6.08 -8.26 -8.92 -5.42 -6.08 -1.16 -16.02 1.68 -13.18 -2.58 -3.24 -5.42 -0.4",modules:["first-scale","second-scale","first-translate"]},d={type:"matrix",title:"Uporaba translacije za poenostavitev rotacije",task:"Za premikanje oblike v končni položaj premakni zgornje levo oglišče v koordinatno izhodišče, rotiraj obliko in nato oglišče premakni nazaj.",start:"5 12 5 10 7 10 5 5 7 5 9 10 9 12",target:"5 12 6.42 10.58 7.84 12 9.97 7.03 11.39 8.45 9.26 13.42 7.84 14.84",modules:["first-translate","first-scale","second-translate"]},x={type:"matrix",title:"Skaliranje",task:"Poskusi v matriki množenja zamenjati enici z dvojkama.",target:"-4 6 -4 2 0 2 -4 -8 0 -8 4 2 4 6",modules:["first-scale"]},m={type:"matrix",title:"Skaliranje in translacija",task:"Uporabi skaliranje in translacijo, da premakneš obliko v končni položaj.",target:"5 0 5 -4 9 -4 5 -14 9 -14 13 -4 13 0",modules:["first-scale","first-translate"]},f={type:"matrix",title:"Translacija pred skaliranjem",task:"Tokrat naj bo vrstni red translacije in skaliranja obrnjen. Poskusi transformirati obliko v končni položaj. Vrstni red operacij je pomemben!",target:"5 0 5 -4 9 -4 5 -14 9 -14 13 -4 13 0",modules:["first-translate","first-scale"]},g={type:"matrix",title:"Uporaba translacije za poenostavitev skaliranja",task:"Zgornje levo oglišče oblike ima koordinati (12, 12). Premakni ga v koordinatno izhodišče, skaliraj obliko in nato oglišče premakni nazaj.",start:"12 12 12 10 14 10 12 5 14 5 16 10 16 12",target:"12 12 12 8 16 8 12 -2 16 -2 20 8 20 12",modules:["first-translate","first-scale","second-translate"]},h={type:"matrix",title:"Enojna matrika",task:"Poskusi sestaviti eno samo matriko, s katero boš skaliral(-a) obliko za faktor 2 in jo hkrati rotiral(-a) za 45 stopinj.",target:"1.4 7 -1.4 4.2 1.4 1.4 -8.4 -2.8 -5.6 -5.6 4.2 -1.4 7 1.4",modules:["first-scale"]},y={type:"matrix",title:"Translacija",task:"Uporabi matriko translacije za premikanje oblike v končni položaj.",target:"7 -4 7 -6 9 -6 7 -11 9 -11 11 -6 11 -4",modules:["first-translate"]},T={POLYGON:null,TARGET_POLYGON:null,CONTAINER:null,containerWidth:0,containerHeight:0,squareSize:0,xNumSquares:0,xIntercept:0,initialXIntercept:0,yNumSquares:0,yIntercept:0,initialYIntercept:0,shapeWidth:0,shapeHeight:0,offset:0},I={FILE:"",START_POSITION_STRING:"-2 3 -2 1 0 1 -2 -4 0 -4 2 1 2 3",TARGET_POSITION_STRING:"",START_POSITION:[],TARGET_POSITION:[],TYPE:"",TITLE:"",TASK:"",MODULES:[]},b={instantUpdate:!0,currentPosition:[],scaleMatrix:[0,0],translateMatrix:[0,0]};function Point(t,e){this.x=t,this.y=e}function reset(){setUpInitialDynamicShapePosition(),drawShape();for(var t=0;t<7;t++)checkForValidInput("p"+t+"-input-x"),checkForValidInput("p"+t+"-input-y")}function setUpInterface(){var t=document.getElementById("container"),e=document.getElementById("dynamic-polygon"),a=document.getElementById("target-polygon"),n=window.innerWidth,r=Math.floor(n/20),i=20*Math.floor(r/2),o=2*i,s=window.innerHeight,c=Math.floor(s/20),l=20*Math.floor(c/2),u=2*l;t.style.width=o+"px",t.style.height=u+"px",document.getElementById("x-label").style.marginTop=u/2-50+"px",T.POLYGON=e,T.TARGET_POLYGON=a,T.CONTAINER=t,T.containerWidth=o,T.containerHeight=u,T.squareSize=20,T.xNumSquares=r,T.xIntercept=i,T.yNumSquares=c,T.yIntercept=l,T.shapeWidth=3,T.shapeHeight=8,T.offset=80,0==T.initialXIntercept&&(T.initialXIntercept=i,T.initialYIntercept=l),drawBackground()}function assembleInterface(t){switch(t){case"coord-scale":t=r;break;case"coord-scale-translate":t=o;break;case"coord-swap":t=s;break;case"coord-translate":t=c;break;case"matrix-rotate":t=l;break;case"matrix-rotate-translate":t=d;break;case"matrix-rotate-scale-translate":t=u;break;case"matrix-rotate-scale-translate-2":t=p;break;case"matrix-rotate-translate":t=d;break;case"matrix-scale":t=x;break;case"matrix-scale-translate":t=m;break;case"matrix-scale-translate-2":t=f;break;case"matrix-scale-translate-3":t=g;break;case"matrix-single":t=h;break;case"matrix-translate":t=y;break;default:t=c/*,document.getElementById("config-dropdown").style.display='inline-block'*/}!function saveConfig(t){I.TARGET_POSITION_STRING=t.target,I.TYPE=t.type,I.TITLE=t.title,I.TASK=t.task,I.MODULES=t.modules,null!=t.start&&(I.START_POSITION_STRING=t.start)}(t),function loadModules(t){if("matrix"==t.type){var e=document.getElementById("matrices");e.style.display="block",modules=I.MODULES;for(var a=0;a<modules.length;a++)newModule=document.getElementById("matrix-"+modules[a]),newModule.style.display="block",e.appendChild(newModule);document.getElementById("matrix-buttons").style.display="block"}else"coordinates"==t.type&&(document.getElementById("coordinates").style.display="block",document.getElementById("coord-buttons").style.display="block");document.getElementById("title").innerHTML=I.TITLE,document.getElementById("task").innerHTML=I.TASK}(t),setUpInitialDynamicShapePosition(),setUpInitialTargetShapePosition(),drawShape(),drawTargetShape()}function drawBackground(){var t=T.xIntercept+"px "+T.yIntercept+"px, "+T.xIntercept+"px "+T.yIntercept+"px, "+T.squareSize+"px "+T.squareSize+"px, "+T.squareSize+"px "+T.squareSize+"px";container.style.backgroundSize=t}function setUpInitialDynamicShapePosition(){var t=generateShapeShape(I.START_POSITION_STRING);I.START_POSITION=t.slice(0),b.currentPosition=t.slice(0),function updateInputBoxes(t){for(var e="",a=0;a<7;a++)e="p"+a+"-input-x",document.getElementById(e).value=(t[a].x-T.xIntercept)/T.squareSize,e="p"+a+"-input-y",document.getElementById(e).value=(t[a].y-T.yIntercept)/T.squareSize*-1}(I.START_POSITION)}function setUpInitialTargetShapePosition(){I.TARGET_POSITION=generateShapeShape(I.TARGET_POSITION_STRING)}function generateShapeShape(t){for(var e=0,a=1,n=[],r=t.split(" "),i=0;i<7;i++){var o=new Point;o.x=r[e]*T.squareSize+T.xIntercept,o.y=r[a]*T.squareSize*-1+T.yIntercept,n.push(o),e+=2,a+=2}return n}function drawTargetShape(){for(var t,e=0;e<7;e++)(t=T.TARGET_POLYGON.points.getItem(e)).x=I.TARGET_POSITION[e].x,t.y=I.TARGET_POSITION[e].y}function drawShape(){for(var t,e,a=0;a<7;a++)(t=T.POLYGON.points.getItem(a)).x=b.currentPosition[a].x,t.y=b.currentPosition[a].y,(e=document.getElementById("c"+a)).setAttribute("cx",b.currentPosition[a].x+"px"),e.setAttribute("cy",b.currentPosition[a].y+"px");!function checkForMatch(){for(var t=!0,e=0;e<7;e++){if(Math.round(100*b.currentPosition[e].x)/100!=Math.round(100*I.TARGET_POSITION[e].x)/100){t=!1;break}if(Math.round(100*b.currentPosition[e].y)/100!=Math.round(100*I.TARGET_POSITION[e].y)/100){t=!1;break}}T.POLYGON.style.fill=t?"#4CAF50":"#FF9800"}()}function instantUpdateCheck(){return b.instantUpdate=$("#instant-update-check").is(":checked"),b.instantUpdate}function checkForValidInput(t){var e=document.getElementById(t).value;return isNaN(e)||""==e?(document.getElementById(t).classList.add("invalid"),!1):(document.getElementById(t).classList.remove("invalid"),!0)}function coordTab(t,e){checkForValidInput("p"+t.split("")[1]+"-input-"+e),instantUpdateCheck()&&getNewCoordinates()}function getNewCoordinates(){for(var t="",e=0;e<7;e++){var a=new Point;t="p"+e+"-input-x",a.x=parseInt(document.getElementById(t).value)*T.squareSize+T.xIntercept,t="p"+e+"-input-y",a.y=-1*parseInt(document.getElementById(t).value)*T.squareSize+T.yIntercept,b.currentPosition[e]=a}drawShape()}function setHighlight(t){!function clearHighlights(){for(i=0;i<7;i++)t="c"+i,circle=document.getElementById(t),circle.style.fill="#000";var t}(),function highlight(t){circle=document.getElementById(t),circle.style.fill="#FF1493"}(t)}function matrixTab(t){checkForValidInput(t);var e=$("#"+t).val();-1!=e.indexOf(".")&&(e=parseFloat(e).toFixed(2)),$("#"+t).val(e),instantUpdateCheck()&&matrixOperations()}function matrixOperations(t){for(var e=document.getElementById("matrices").children,a=[],n=0;n<7;n++){var r=new Point;r.x=I.START_POSITION[n].x+T.xIntercept-T.initialXIntercept,r.y=I.START_POSITION[n].y+T.yIntercept-T.initialYIntercept,a[n]=r}for(n=0;n<e.length;n++){var i=e[n];"block"==i.style.display&&(a=-1!=i.id.indexOf("scale")?scale(i.id.split("-")[1],a):translate(i.id.split("-")[1],a))}drawShape()}function scale(t,e){b.scaleMatrix[0]=parseFloat(document.getElementById("matrix-"+t+"-scale-row-0-col-0").value),b.scaleMatrix[1]=parseFloat(document.getElementById("matrix-"+t+"-scale-row-0-col-1").value),b.scaleMatrix[2]=parseFloat(document.getElementById("matrix-"+t+"-scale-row-1-col-0").value),b.scaleMatrix[3]=parseFloat(document.getElementById("matrix-"+t+"-scale-row-1-col-1").value);for(var a=0;a<7;a++){var n=new Point,r=e[a];n.x=(r.x-T.xIntercept)/T.squareSize*b.scaleMatrix[0]+(r.y-T.yIntercept)/T.squareSize*b.scaleMatrix[1]*-1,n.y=(r.x-T.xIntercept)/T.squareSize*b.scaleMatrix[2]+(r.y-T.yIntercept)/T.squareSize*b.scaleMatrix[3]*-1,n.x=n.x*T.squareSize+T.xIntercept,n.y=n.y*T.squareSize*-1+T.yIntercept,b.currentPosition[a]=n}return b.currentPosition}function translate(t,e){b.translateMatrix[0]=parseFloat(document.getElementById("matrix-"+t+"-translate-row-0-col-0").value)*T.squareSize,b.translateMatrix[1]=parseFloat(document.getElementById("matrix-"+t+"-translate-row-1-col-0").value)*T.squareSize;for(var a=0;a<7;a++){var n=new Point,r=e[a];n.x=r.x+b.translateMatrix[0],n.y=r.y-b.translateMatrix[1],b.currentPosition[a]=n}return b.currentPosition}$(document).ready(function(){setUpInterface();var t=n.getUrlParameter("showIndex"),e=n.getUrlParameter("config")||null;if(t){document.getElementById("config-dropdown").style.display='inline-block'}(t||null==e)/*&&document.getElementById("config-dropdown").style.display=='block'*/,assembleInterface(null!=e?e:"coord-translate"),$("#get-new-coordinates-button").on("click",function(){getNewCoordinates()}),$("#reset-coordinates-button").on("click",function(){reset()}),$("#matrix-operations-button").on("click",function(){matrixOperations()}),$("#reset-matrices-button").on("click",function(){!function resetMatrices(){reset(),$("#matrix-first-scale-row-0-col-0").val(1),$("#matrix-first-scale-row-0-col-1").val(0),$("#matrix-first-scale-row-1-col-0").val(0),$("#matrix-first-scale-row-1-col-1").val(1),$("#matrix-first-translate-row-0-col-0").val(0),$("#matrix-first-translate-row-1-col-0").val(0),$("#matrix-second-scale-row-0-col-0").val(1),$("#matrix-second-scale-row-0-col-1").val(0),$("#matrix-second-scale-row-1-col-0").val(0),$("#matrix-second-scale-row-1-col-1").val(1),$("#matrix-second-translate-row-0-col-0").val(0),$("#matrix-second-translate-row-1-col-0").val(0)}()}),function registerOnFocusEvents(){$("#p0-input-x").focus(function(){setHighlight("c0")}),$("#p0-input-y").focus(function(){setHighlight("c0")}),$("#p1-input-x").focus(function(){setHighlight("c1")}),$("#p1-input-y").focus(function(){setHighlight("c1")}),$("#p2-input-x").focus(function(){setHighlight("c2")}),$("#p2-input-y").focus(function(){setHighlight("c2")}),$("#p3-input-x").focus(function(){setHighlight("c3")}),$("#p3-input-y").focus(function(){setHighlight("c3")}),$("#p4-input-x").focus(function(){setHighlight("c4")}),$("#p4-input-y").focus(function(){setHighlight("c4")}),$("#p5-input-x").focus(function(){setHighlight("c5")}),$("#p5-input-y").focus(function(){setHighlight("c5")}),$("#p6-input-x").focus(function(){setHighlight("c6")}),$("#p6-input-y").focus(function(){setHighlight("c6")})}(),function registerOnBlurEvents(){$("#p0-input-x").on("blur",function(){coordTab("c0","x")}),$("#p0-input-y").on("blur",function(){coordTab("c0","y")}),$("#p1-input-x").on("blur",function(){coordTab("c1","x")}),$("#p1-input-y").on("blur",function(){coordTab("c1","y")}),$("#p2-input-x").on("blur",function(){coordTab("c2","x")}),$("#p2-input-y").on("blur",function(){coordTab("c2","y")}),$("#p3-input-x").on("blur",function(){coordTab("c3","x")}),$("#p3-input-y").on("blur",function(){coordTab("c3","y")}),$("#p4-input-x").on("blur",function(){coordTab("c4","x")}),$("#p4-input-y").on("blur",function(){coordTab("c4","y")}),$("#p5-input-x").on("blur",function(){coordTab("c5","x")}),$("#p5-input-y").on("blur",function(){coordTab("c5","y")}),$("#p6-input-x").on("blur",function(){coordTab("c6","x")}),$("#p6-input-y").on("blur",function(){coordTab("c6","y")}),$("#matrix-first-scale-row-0-col-0").on("blur",function(){matrixTab("matrix-first-scale-row-0-col-0")}),$("#matrix-first-scale-row-0-col-1").on("blur",function(){matrixTab("matrix-first-scale-row-0-col-1")}),$("#matrix-first-scale-row-1-col-0").on("blur",function(){matrixTab("matrix-first-scale-row-1-col-0")}),$("#matrix-first-scale-row-1-col-1").on("blur",function(){matrixTab("matrix-first-scale-row-1-col-1")}),$("#matrix-first-translate-row-0-col-0").on("blur",function(){matrixTab("matrix-first-translate-row-0-col-0")}),$("#matrix-first-translate-row-1-col-0").on("blur",function(){matrixTab("matrix-first-translate-row-1-col-0")}),$("#matrix-second-scale-row-0-col-0").on("blur",function(){matrixTab("matrix-second-scale-row-0-col-0")}),$("#matrix-second-scale-row-0-col-1").on("blur",function(){matrixTab("matrix-second-scale-row-0-col-1")}),$("#matrix-second-scale-row-1-col-0").on("blur",function(){matrixTab("matrix-second-scale-row-1-col-0")}),$("#matrix-second-scale-row-1-col-1").on("blur",function(){matrixTab("matrix-second-scale-row-1-col-1")}),$("#matrix-second-translate-row-0-col-0").on("blur",function(){matrixTab("matrix-second-translate-row-0-col-0")}),$("#matrix-second-translate-row-1-col-0").on("blur",function(){matrixTab("matrix-second-translate-row-1-col-0")})}(),function registerEnterHandler(){$(document).on("keypress",function(t){13==t.which&&function runEnterHandler(){var t,e,a=document.activeElement.id,n="";if(a.includes("-input-")){t=parseInt(a.substring(1,2));var r="x"==(e=a.substring(9))?t+0:t+1;r>6&&(r=0);var i="x"==e?"y":"x";n="#p"+r+"-input-"+i,coordTab("c"+t,e),$(n).focus()}else if(a.includes("-row-")){t=a.includes("first")?["first",a.includes("scale")?"scale":"translate"]:["second",a.includes("scale")?"scale":"translate"];var o=a.indexOf("row-"),s=a.indexOf("col-");e=[a.substring(o+4,o+5),a.substring(s+4,s+5)];var c=[parseInt(e[0]),parseInt(e[1])];"scale"==t[1]?(c[0]=0==c[1]?c[0]:c[0]+1,c[0]>1&&(c[0]=0),c[1]=0==c[1]?1:0):c[0]=0==c[0]?1:0,n="#matrix-"+t[0]+"-"+t[1]+"-row-"+c[0]+"-col-"+c[1],matrixTab(a),$(n).focus()}}()})}()}),window.onresize=function(t){setUpInterface(),setUpInitialTargetShapePosition(),drawTargetShape(),"matrix"==I.TYPE?matrixOperations():getNewCoordinates()}},{"url-parameters.js":2}],2:[function(t,e,a){e.exports={getUrlParameter:function(t){var e,a,n=decodeURIComponent(window.location.search.substring(1)).split("&");for(a=0;a<n.length;a++)if((e=n[a].split("="))[0]===t)return void 0===e[1]||e[1]}}},{}]},{},[1]);
//# sourceMappingURL=2d-shape-manipulations.js.map
